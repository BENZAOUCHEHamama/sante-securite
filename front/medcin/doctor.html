<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Espace MÃ©decin</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <h1>ğŸ‘¨â€âš•ï¸ Espace MÃ©decin</h1>
            <div class="user-info">
                <span id="userName"></span>
                <button id="logoutBtn" class="btn btn-secondary">DÃ©connexion</button>
            </div>
        </header>

        <main class="app-main">
            <aside class="sidebar">
                <nav>
                    <a href="#" class="nav-item active" data-page="patients">ğŸ‘¥ Mes Patients</a>
                    <a href="#" class="nav-item" data-page="requests">ğŸ“¬ Demandes de suivi</a>
                </nav>
            </aside>

            <div class="content">
                <!-- ===== PAGE 1: MES PATIENTS ===== -->
                <div id="patientsPage" class="page active">
                    <h2>ğŸ‘¥ Liste de mes patients</h2>
                    <div id="patientsList" class="patients-grid">
                        <p class="loading">Chargement des patients...</p>
                    </div>
                </div>

                <!-- ===== PAGE 2: DEMANDES DE SUIVI ===== -->
                <div id="requestsPage" class="page" style="display: none;">
                    <h2>ğŸ“¬ Demandes de suivi en attente</h2>
                    <div id="requestsList" class="pending-list">
                        <p class="loading">Chargement des demandes...</p>
                    </div>
                </div>

                <!-- ===== PAGE 3: PROFIL PATIENT ===== -->
                <div id="patientProfilePage" class="page" style="display: none;">
                    <button id="backToPatients" class="btn btn-secondary">â† Retour Ã  la liste</button>
                    <h2>ğŸ“‹ Profil du patient</h2>
                    <div id="patientProfile" class="profile-info">
                        <!-- ChargÃ© dynamiquement -->
                    </div>
                    
                    <div class="patient-actions">
                        <button id="viewAnalysesBtn" class="btn btn-primary">ğŸ“Š Voir les analyses</button>
                        <button id="uploadFileBtn" class="btn btn-primary">ğŸ“¤ Envoyer un fichier</button>
                    </div>
                </div>

                <!-- ===== PAGE 4: ANALYSES PATIENT ===== -->
                <div id="analysesPage" class="page" style="display: none;">
                    <button id="backToProfile" class="btn btn-secondary">â† Retour au profil</button>
                    <h2>ğŸ“Š Analyses du patient</h2>
                    <div id="analysesList" class="analyses-list">
                        <!-- ChargÃ© dynamiquement -->
                    </div>
                </div>

                <!-- ===== PAGE 5: UPLOAD FICHIER ===== -->
                <div id="uploadFilePage" class="page" style="display: none;">
                    <button id="backToProfileFromUpload" class="btn btn-secondary">â† Retour au profil</button>
                    <h2>ğŸ“¤ Envoyer un fichier mÃ©dical chiffrÃ©</h2>
                    
                    <div class="upload-container">
                        <div class="info-message">
                            ğŸ”’ Le fichier sera automatiquement chiffrÃ© avant l'envoi
                        </div>
                        
                        <form id="uploadFileForm">
                            <div class="form-group">
                                <label>ğŸ“„ Titre du fichier *</label>
                                <input type="text" id="fileTitle" required placeholder="Ex: RÃ©sultats d'analyse sanguine">
                            </div>
                            
                            <div class="form-group">
                                <label>ğŸ“ Description</label>
                                <textarea id="fileDescription" placeholder="Description optionnelle du fichier" rows="3"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label>ğŸ·ï¸ Type de fichier *</label>
                                <select id="fileType" required>
                                    <option value="">-- SÃ©lectionner un type --</option>
                                    <option value="prescription">ğŸ’Š Ordonnance</option>
                                    <option value="report">ğŸ“‹ Compte-rendu</option>
                                    <option value="scanner">ğŸ”¬ Scanner</option>
                                    <option value="radiography">ğŸ“¸ Radiographie</option>
                                    <option value="analysis">ğŸ§ª Analyse</option>
                                    <option value="other">ğŸ“„ Autre</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>ğŸ“ Fichier (PDF, JPG, PNG, DOC - Max 10MB) *</label>
                                <input type="file" id="fileInput" required accept=".pdf,.jpg,.jpeg,.png,.doc,.docx">
                            </div>
                            
                            <div style="display: flex; gap: 10px; margin-top: 20px;">
                                <button type="submit" class="btn btn-primary">
                                    ğŸ” Chiffrer et envoyer
                                </button>
                                <button type="button" class="btn btn-secondary" onclick="showPage('patientProfile')">
                                    âŒ Annuler
                                </button>
                            </div>
                            
                            <div id="uploadStatus" style="margin-top: 20px;"></div>
                        </form>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="app.js"></script>
    <script src="doctor.js"></script>
</body>
</html>